Initialize:
	set unitType @poly
	set minedOre @sand
	set miningDistance 7
	op mul nearDistance miningDistance 2

GetStartInfo:
	ubind unitType
	jump GetStartInfo equal @unit null
	sensor flag @unit @flag
	sensor range @unit @range
	jump GetStartInfo notEqual flag 0
	op floor safeRange range
	op min miningDistance miningDistance safeRange 

	op cos cosX 45
	op mul minSafeD cosX radius

	set originX @thisx
	set originY @thisy

	ucontrol move originX originY

Start:
	op add x originX range
	op add y originY 0
	ucontrol getBlock x y type building floor

	op cos cosX 45
	op mul minSafeD cosX range
	jump Start always