Initialize:
	set unitType @poly
	set minedOre @sand

GetSwitch:
		set switch switch1
		jump GetSwitch equal switch null

GetStartInfo:
	ubind unitType
	jump GetStartInfo equal @unit null
	sensor flag @unit @flag
	jump GetStartInfo notEqual flag 0

	set originX @thisx
	set originY @thisy

Start:
	jump End equal oreFound true
	
FindOre:
	ucontrol within originX originY 1 isNearDrop
	jump LocateOre equal isNearDrop true
	ucontrol approach originX originY 1
	jump FindOre always

	LocateOre:
		ulocate ore core true minedOre oreX oreY oreFound oreMine
		jump End equal oreFound true

	NoOre:
		set error "No ore found"

End:
	ucontrol move oreX oreY
	set finished true
	jump End always