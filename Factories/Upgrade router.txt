#this only works if the layout is top down
Initialize:
	set right 0
	set up 1
	set left 2
	set down 3
	set upgrade down
	set noUpgrade right

	GetLinks:
		set tierConfig sorter1
		set t2router router1
		set t3router router2
		set airFac factory1
		set groundFac factory2
		set t2upgrader reconstructor1
		set t3upgrader reconstructor2
		
		jump GetLinks equal tierConfig null
		jump GetLinks equal t2router null
		jump GetLinks equal t3router null
		jump GetLinks equal airFac null
		jump GetLinks equal t2upgrader null
		jump GetLinks equal t3upgrader null

Start:
	sensor tierChoice tierConfig @config

Select:
	jump Tier1 equal tierChoice @copper
	jump Tier2 equal tierChoice @lead
	jump Tier3 equal tierChoice @metaglass
	set tier 0
	jump NoChoice always

Tier1:
	set tier 1
	control enabled airFac true
	control enabled groundFac true
	control enabled t2upgrader false
	control enabled t3upgrader false
	control config t2router noUpgrade
	jump Start always

Tier2:
	set tier 2
	control enabled airFac true
	control enabled groundFac true
	control enabled t2upgrader true
	control enabled t3upgrader false
	control config t2router upgrade
	control config t3router noUpgrade
	jump Start always

Tier3:
	set tier 3
	control enabled airFac true
	control enabled groundFac true
	control enabled t2upgrader true
	control enabled t3upgrader true
	control config t2router upgrade
	control config t3router upgrade
	jump Start always
	
NoChoice:
	control enabled airFac false
	control enabled groundFac false
	control enabled t2upgrader false
	control enabled t3upgrader false
	jump Start always