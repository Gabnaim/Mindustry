Initialize:
	set sourceMin 500
	GetLinks:
		set factory factory1
		set unloader unloader1
		set source nucleus1
		jump GetLinks equal factory null
		jump GetLinks equal unloader null
		jump GetLinks equal source null
	control enabled unloader false
		
Start:
	sensor buildType factory @config
	jump CheckMono equal buildType @mono
	jump CheckFlare equal buildType @flare
	control enabled unloader false
	jump Start always
	
CheckFlare:
	jump GetSilicon always

CheckMono:	
	sensor facSil factory @silicon
	sensor facLead factory @lead
	op div silLevel facSil 60
	op div leadLevel facLead 30
	jump GetLead lessThan leadLevel silLevel
	
GetSilicon:
	sensor sourceSil source @silicon
	jump NotEnoughStock lessThanEq sourceSil sourceMin
	control config unloader @silicon
	control enabled unloader true
	jump Start always

GetLead:
	sensor sourceLead source @lead
	jump NotEnoughStock lessThanEq sourceLead sourceMin
	control config unloader @lead
	control enabled unloader true
	jump Start always

NotEnoughStock:
	control enabled unloader false
	jump Start always


